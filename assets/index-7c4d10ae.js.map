{"version":3,"file":"index-7c4d10ae.js","sources":["../../src/components/MenuBtn.ts","../../src/lib/article.ts","../../src/components/Menus.ts","../../src/components/Nav.ts","../../src/components/Article.ts","../../src/main.ts"],"sourcesContent":["const id = \"menu-btn\";\r\nexport default function MenuBtn() {\r\n  return `<button id=\"${id}\">menu show</button>`;\r\n}\r\n\r\nconst eventHandler = (event: MouseEvent) => {\r\n  const target = event.target as HTMLButtonElement;\r\n  if (target.id === id) {\r\n    return true;\r\n  }\r\n  return false;\r\n};\r\n\r\nexport { eventHandler };\r\n","import { articles, categories } from \"../data.json\";\r\nimport { articleType } from \"../type/article\";\r\n\r\nconst getArticlesByCategory = (category: string): articleType[] => {\r\n  return [\r\n    ...(category === \"all\"\r\n      ? articles\r\n      : articles.filter(\r\n          (article: articleType) => article.category === category\r\n        )),\r\n  ];\r\n};\r\n\r\nconst getArticlesSize = () => articles.length;\r\n\r\nconst getCategories = () => categories;\r\n\r\nconst getArticle = (id: string) => {\r\n  const result = articles.find(\r\n    (article: articleType) => article.id + \"\" === id\r\n  ) as articleType;\r\n  return result;\r\n};\r\n\r\nexport { getArticlesByCategory, getCategories, getArticlesSize, getArticle };\r\n","import {\r\n  getArticlesSize,\r\n  getCategories,\r\n  getArticlesByCategory,\r\n} from \"../lib/article\";\r\n\r\nexport default function Menus() {\r\n  return `\r\n  <div class=\"modal\">\r\n    <section class=\"menus\">\r\n      <h1>Piso's Blog<sub> (${getArticlesSize()})</sub></h1>\r\n      ${getCategories()\r\n        .map(\r\n          (category) =>\r\n            `<h2 data-category=\"${category}\">${category}\r\n            (${getArticlesByCategory(category).length})</h2>`\r\n        )\r\n        .join(\"\")}\r\n    </section>\r\n  </div>\r\n  `;\r\n}\r\n","import MenuBtn from \"./MenuBtn\";\r\nimport Menus from \"./Menus\";\r\n\r\nimport { getArticlesByCategory } from \"../lib/article\";\r\n\r\nconst navigatioName = \"blog-navigation\";\r\n\r\nexport default function Navigation(isMenuOpen: boolean) {\r\n  return `\r\n  ${MenuBtn()}\r\n  <nav class=\"${navigatioName}\"> \r\n    ${isMenuOpen ? Menus() : \"\"}\r\n  </nav>`;\r\n}\r\n\r\nconst eventHandler = (event: MouseEvent) => {\r\n  const target = event.target as HTMLDivElement;\r\n  if (target.closest(\".\" + navigatioName)) {\r\n    const category = target.dataset.category;\r\n    if (!category) return;\r\n\r\n    return [...getArticlesByCategory(category)];\r\n  }\r\n  return;\r\n};\r\n\r\nexport { eventHandler };\r\n","import { getArticle } from \"../lib/article\";\r\nimport { currentContent } from \"../type/article\";\r\n\r\nconst articleName = \"content-body\";\r\n\r\nexport default function Article(current: currentContent) {\r\n  const drawContent = () => {\r\n    if (Array.isArray(current))\r\n      return current\r\n        .map(\r\n          (article) =>\r\n            `<section data-id=\"${article.id}\">${article.title}</section>`\r\n        )\r\n        .join(\"\");\r\n    return `<section data-id=\"${current.id}\">${current.content}</section>`;\r\n  };\r\n\r\n  return `\r\n  <article class=\"${articleName}\">${\r\n    current !== undefined ? drawContent() : \"\"\r\n  }</article>\r\n  `;\r\n}\r\n\r\nconst eventHandler = (event: MouseEvent) => {\r\n  const target = event.target as HTMLDivElement;\r\n  if (target.closest(\".\" + articleName)) {\r\n    const id = target.dataset.id;\r\n    return getArticle(id ?? \"\");\r\n  }\r\n  return;\r\n};\r\n\r\nexport { eventHandler };\r\n","import \"./style.css\";\r\nimport Navigation, { eventHandler as navEvent } from \"./components/Nav\";\r\nimport Article, { eventHandler as articleEvent } from \"./components/Article\";\r\nimport { eventHandler as menubtnEvent } from \"./components/MenuBtn\";\r\nimport { articleType, currentContent } from \"./type/article\";\r\n\r\nconst $app = document.getElementById(\"app\") as HTMLDivElement;\r\n\r\ndocument.body.className = \"markdown-body\";\r\n\r\nconst currents: { currentArticles: articleType[]; menus: boolean } = {\r\n  currentArticles: [],\r\n  menus: false,\r\n};\r\n\r\nconst articleProxy = new Proxy(currents, {\r\n  set(target: any, key: string, value: any) {\r\n    target[key] = value;\r\n    render(key === \"currentArticles\" ? value : currents.currentArticles);\r\n    return true;\r\n  },\r\n});\r\n\r\n$app.addEventListener(\"click\", (event: MouseEvent) => {\r\n  const nav = navEvent(event);\r\n  if (nav) articleProxy.currentArticles = nav;\r\n  articleProxy.menus = false;\r\n});\r\n\r\n$app.addEventListener(\"click\", (event: MouseEvent) => {\r\n  const art = articleEvent(event);\r\n  if (art) articleProxy.currentArticles = articleEvent(event);\r\n  articleProxy.menus = false;\r\n});\r\n\r\n$app.addEventListener(\"click\", (event) => {\r\n  articleProxy.menus = menubtnEvent(event);\r\n});\r\n\r\nconst render = (article: currentContent) => {\r\n  $app.innerHTML = Navigation(currents.menus) + Article(article);\r\n};\r\n\r\nrender(currents.currentArticles);\r\n"],"names":["id","MenuBtn","eventHandler","event","getArticlesByCategory","category","articles","article","getArticlesSize","getCategories","categories","getArticle","Menus","navigatioName","Navigation","isMenuOpen","target","articleName","Article","current","$app","currents","articleProxy","key","value","render","nav","navEvent","articleEvent","menubtnEvent"],"mappings":"ssBAAA,MAAMA,EAAK,WACX,SAAwBC,GAAU,CAChC,MAAO,eAAeD,uBACxB,CAEA,MAAME,EAAgBC,GACLA,EAAM,OACV,KAAOH;;6BCJdI,EAAyBC,GACtB,CACL,GAAIA,IAAa,MACbC,EACAA,EAAS,OACNC,GAAyBA,EAAQ,WAAaF,CACjD,CAAA,EAIFG,EAAkB,IAAMF,EAAS,OAEjCG,EAAgB,IAAMC,EAEtBC,EAAcX,GACHM,EAAS,KACrBC,GAAyBA,EAAQ,GAAK,KAAOP,CAAA,ECblD,SAAwBY,GAAQ,CACvB,MAAA;AAAA;AAAA;AAAA,8BAGqBJ,EAAgB;AAAA,QACtCC,EACC,EAAA,IACEJ,GACC,sBAAsBA,MAAaA;AAAA,eAChCD,EAAsBC,CAAQ,EAAE,cAAA,EAEtC,KAAK,EAAE;AAAA;AAAA;AAAA,GAIhB,CChBA,MAAMQ,EAAgB,kBAEtB,SAAwBC,EAAWC,EAAqB,CAC/C,MAAA;AAAA,IACLd,EAAQ;AAAA,gBACIY;AAAA,MACVE,EAAaH,EAAU,EAAA;AAAA,SAE7B,CAEA,MAAMV,EAAgBC,GAAsB,CAC1C,MAAMa,EAASb,EAAM,OACrB,GAAIa,EAAO,QAAQ,IAAMH,CAAa,EAAG,CACjC,MAAAR,EAAWW,EAAO,QAAQ,SAChC,OAAKX,EAEE,CAAC,GAAGD,EAAsBC,CAAQ,CAAC,EAF3B,MAGjB,CAEF,ECrBMY,EAAc,eAEpB,SAAwBC,EAAQC,EAAyB,CAYhD,MAAA;AAAA,oBACWF,MAChBE,IAAY,QAbM,IACd,MAAM,QAAQA,CAAO,EAChBA,EACJ,IACEZ,GACC,qBAAqBA,EAAQ,OAAOA,EAAQ,iBAAA,EAE/C,KAAK,EAAE,EACL,qBAAqBY,EAAQ,OAAOA,EAAQ,qBAKX,EAAA;AAAA,GAG5C,CAEA,MAAMjB,EAAgBC,GAAsB,CAC1C,MAAMa,EAASb,EAAM,OACrB,GAAIa,EAAO,QAAQ,IAAMC,CAAW,EAAG,CAC/B,MAAAjB,EAAKgB,EAAO,QAAQ,GACnB,OAAAL,EAAWX,GAAM,EAAE,CAC5B,CAEF,ECzBMoB,EAAO,SAAS,eAAe,KAAK,EAE1C,SAAS,KAAK,UAAY,gBAE1B,MAAMC,EAA+D,CACnE,gBAAiB,CAAC,EAClB,MAAO,EACT,EAEMC,EAAe,IAAI,MAAMD,EAAU,CACvC,IAAIL,EAAaO,EAAaC,EAAY,CACxC,OAAAR,EAAOO,CAAG,EAAIC,EACdC,EAAOF,IAAQ,kBAAoBC,EAAQH,EAAS,eAAe,EAC5D,EACT,CACF,CAAC,EAEDD,EAAK,iBAAiB,QAAUjB,GAAsB,CAC9C,MAAAuB,EAAMC,EAASxB,CAAK,EACtBuB,IAAKJ,EAAa,gBAAkBI,GACxCJ,EAAa,MAAQ,EACvB,CAAC,EAEDF,EAAK,iBAAiB,QAAUjB,GAAsB,CACxCyB,EAAazB,CAAK,IACRmB,EAAA,gBAAkBM,EAAazB,CAAK,GAC1DmB,EAAa,MAAQ,EACvB,CAAC,EAEDF,EAAK,iBAAiB,QAAUjB,GAAU,CAC3BmB,EAAA,MAAQO,EAAa1B,CAAK,CACzC,CAAC,EAED,MAAMsB,EAAUlB,GAA4B,CAC1Ca,EAAK,UAAYN,EAAWO,EAAS,KAAK,EAAIH,EAAQX,CAAO,CAC/D,EAEAkB,EAAOJ,EAAS,eAAe"}