{"version":3,"file":"index-7c4d10ae.js","sources":["../../src/components/MenuBtn.ts","../../src/lib/article.ts","../../src/components/Menus.ts","../../src/components/Nav.ts","../../src/components/Article.ts","../../src/main.ts"],"sourcesContent":["const id = \"menu-btn\";\nexport default function MenuBtn() {\n  return `<button id=\"${id}\">menu show</button>`;\n}\n\nconst eventHandler = (event: MouseEvent) => {\n  const target = event.target as HTMLButtonElement;\n  if (target.id === id) {\n    return true;\n  }\n  return false;\n};\n\nexport { eventHandler };\n","import { articles, categories } from \"../data.json\";\nimport { articleType } from \"../type/article\";\n\nconst getArticlesByCategory = (category: string): articleType[] => {\n  return [\n    ...(category === \"all\"\n      ? articles\n      : articles.filter(\n          (article: articleType) => article.category === category\n        )),\n  ];\n};\n\nconst getArticlesSize = () => articles.length;\n\nconst getCategories = () => categories;\n\nconst getArticle = (id: string) => {\n  const result = articles.find(\n    (article: articleType) => article.id + \"\" === id\n  ) as articleType;\n  return result;\n};\n\nexport { getArticlesByCategory, getCategories, getArticlesSize, getArticle };\n","import {\n  getArticlesSize,\n  getCategories,\n  getArticlesByCategory,\n} from \"../lib/article\";\n\nexport default function Menus() {\n  return `\n  <div class=\"modal\">\n    <section class=\"menus\">\n      <h1>Piso's Blog<sub> (${getArticlesSize()})</sub></h1>\n      ${getCategories()\n        .map(\n          (category) =>\n            `<h2 data-category=\"${category}\">${category}\n            (${getArticlesByCategory(category).length})</h2>`\n        )\n        .join(\"\")}\n    </section>\n  </div>\n  `;\n}\n","import MenuBtn from \"./MenuBtn\";\nimport Menus from \"./Menus\";\n\nimport { getArticlesByCategory } from \"../lib/article\";\n\nconst navigatioName = \"blog-navigation\";\n\nexport default function Navigation(isMenuOpen: boolean) {\n  return `\n  ${MenuBtn()}\n  <nav class=\"${navigatioName}\"> \n    ${isMenuOpen ? Menus() : \"\"}\n  </nav>`;\n}\n\nconst eventHandler = (event: MouseEvent) => {\n  const target = event.target as HTMLDivElement;\n  if (target.closest(\".\" + navigatioName)) {\n    const category = target.dataset.category;\n    if (!category) return;\n\n    return [...getArticlesByCategory(category)];\n  }\n  return;\n};\n\nexport { eventHandler };\n","import { getArticle } from \"../lib/article\";\nimport { currentContent } from \"../type/article\";\n\nconst articleName = \"content-body\";\n\nexport default function Article(current: currentContent) {\n  const drawContent = () => {\n    if (Array.isArray(current))\n      return current\n        .map(\n          (article) =>\n            `<section data-id=\"${article.id}\">${article.title}</section>`\n        )\n        .join(\"\");\n    return `<section data-id=\"${current.id}\">${current.content}</section>`;\n  };\n\n  return `\n  <article class=\"${articleName}\">${\n    current !== undefined ? drawContent() : \"\"\n  }</article>\n  `;\n}\n\nconst eventHandler = (event: MouseEvent) => {\n  const target = event.target as HTMLDivElement;\n  if (target.closest(\".\" + articleName)) {\n    const id = target.dataset.id;\n    return getArticle(id ?? \"\");\n  }\n  return;\n};\n\nexport { eventHandler };\n","import \"./style.css\";\nimport Navigation, { eventHandler as navEvent } from \"./components/Nav\";\nimport Article, { eventHandler as articleEvent } from \"./components/Article\";\nimport { eventHandler as menubtnEvent } from \"./components/MenuBtn\";\nimport { articleType, currentContent } from \"./type/article\";\n\nconst $app = document.getElementById(\"app\") as HTMLDivElement;\n\ndocument.body.className = \"markdown-body\";\n\nconst currents: { currentArticles: articleType[]; menus: boolean } = {\n  currentArticles: [],\n  menus: false,\n};\n\nconst articleProxy = new Proxy(currents, {\n  set(target: any, key: string, value: any) {\n    target[key] = value;\n    render(key === \"currentArticles\" ? value : currents.currentArticles);\n    return true;\n  },\n});\n\n$app.addEventListener(\"click\", (event: MouseEvent) => {\n  const nav = navEvent(event);\n  if (nav) articleProxy.currentArticles = nav;\n  articleProxy.menus = false;\n});\n\n$app.addEventListener(\"click\", (event: MouseEvent) => {\n  const art = articleEvent(event);\n  if (art) articleProxy.currentArticles = articleEvent(event);\n  articleProxy.menus = false;\n});\n\n$app.addEventListener(\"click\", (event) => {\n  articleProxy.menus = menubtnEvent(event);\n});\n\nconst render = (article: currentContent) => {\n  $app.innerHTML = Navigation(currents.menus) + Article(article);\n};\n\nrender(currents.currentArticles);\n"],"names":["id","MenuBtn","eventHandler","event","getArticlesByCategory","category","articles","article","getArticlesSize","getCategories","categories","getArticle","Menus","navigatioName","Navigation","isMenuOpen","target","articleName","Article","current","$app","currents","articleProxy","key","value","render","nav","navEvent","articleEvent","menubtnEvent"],"mappings":"ssBAAA,MAAMA,EAAK,WACX,SAAwBC,GAAU,CAChC,MAAO,eAAeD,uBACxB,CAEA,MAAME,EAAgBC,GACLA,EAAM,OACV,KAAOH;;6BCJdI,EAAyBC,GACtB,CACL,GAAIA,IAAa,MACbC,EACAA,EAAS,OACNC,GAAyBA,EAAQ,WAAaF,CACjD,CAAA,EAIFG,EAAkB,IAAMF,EAAS,OAEjCG,EAAgB,IAAMC,EAEtBC,EAAcX,GACHM,EAAS,KACrBC,GAAyBA,EAAQ,GAAK,KAAOP,CAAA,ECblD,SAAwBY,GAAQ,CACvB,MAAA;AAAA;AAAA;AAAA,8BAGqBJ,EAAgB;AAAA,QACtCC,EACC,EAAA,IACEJ,GACC,sBAAsBA,MAAaA;AAAA,eAChCD,EAAsBC,CAAQ,EAAE,cAAA,EAEtC,KAAK,EAAE;AAAA;AAAA;AAAA,GAIhB,CChBA,MAAMQ,EAAgB,kBAEtB,SAAwBC,EAAWC,EAAqB,CAC/C,MAAA;AAAA,IACLd,EAAQ;AAAA,gBACIY;AAAA,MACVE,EAAaH,EAAU,EAAA;AAAA,SAE7B,CAEA,MAAMV,EAAgBC,GAAsB,CAC1C,MAAMa,EAASb,EAAM,OACrB,GAAIa,EAAO,QAAQ,IAAMH,CAAa,EAAG,CACjC,MAAAR,EAAWW,EAAO,QAAQ,SAChC,OAAKX,EAEE,CAAC,GAAGD,EAAsBC,CAAQ,CAAC,EAF3B,MAGjB,CAEF,ECrBMY,EAAc,eAEpB,SAAwBC,EAAQC,EAAyB,CAYhD,MAAA;AAAA,oBACWF,MAChBE,IAAY,QAbM,IACd,MAAM,QAAQA,CAAO,EAChBA,EACJ,IACEZ,GACC,qBAAqBA,EAAQ,OAAOA,EAAQ,iBAAA,EAE/C,KAAK,EAAE,EACL,qBAAqBY,EAAQ,OAAOA,EAAQ,qBAKX,EAAA;AAAA,GAG5C,CAEA,MAAMjB,EAAgBC,GAAsB,CAC1C,MAAMa,EAASb,EAAM,OACrB,GAAIa,EAAO,QAAQ,IAAMC,CAAW,EAAG,CAC/B,MAAAjB,EAAKgB,EAAO,QAAQ,GACnB,OAAAL,EAAWX,GAAM,EAAE,CAC5B,CAEF,ECzBMoB,EAAO,SAAS,eAAe,KAAK,EAE1C,SAAS,KAAK,UAAY,gBAE1B,MAAMC,EAA+D,CACnE,gBAAiB,CAAC,EAClB,MAAO,EACT,EAEMC,EAAe,IAAI,MAAMD,EAAU,CACvC,IAAIL,EAAaO,EAAaC,EAAY,CACxC,OAAAR,EAAOO,CAAG,EAAIC,EACdC,EAAOF,IAAQ,kBAAoBC,EAAQH,EAAS,eAAe,EAC5D,EACT,CACF,CAAC,EAEDD,EAAK,iBAAiB,QAAUjB,GAAsB,CAC9C,MAAAuB,EAAMC,EAASxB,CAAK,EACtBuB,IAAKJ,EAAa,gBAAkBI,GACxCJ,EAAa,MAAQ,EACvB,CAAC,EAEDF,EAAK,iBAAiB,QAAUjB,GAAsB,CACxCyB,EAAazB,CAAK,IACRmB,EAAA,gBAAkBM,EAAazB,CAAK,GAC1DmB,EAAa,MAAQ,EACvB,CAAC,EAEDF,EAAK,iBAAiB,QAAUjB,GAAU,CAC3BmB,EAAA,MAAQO,EAAa1B,CAAK,CACzC,CAAC,EAED,MAAMsB,EAAUlB,GAA4B,CAC1Ca,EAAK,UAAYN,EAAWO,EAAS,KAAK,EAAIH,EAAQX,CAAO,CAC/D,EAEAkB,EAAOJ,EAAS,eAAe"}